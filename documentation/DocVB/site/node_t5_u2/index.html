<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Node-2 - VB eYRC 2020-21</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">VB eYRC 2020-21</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Explanation <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../summary/">Summary</a>
</li>
                                    
<li >
    <a href="../impl/">Implementation</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">pkg_task5 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../node_t5_u1/">Node-1</a>
</li>
                                    
<li class="active">
    <a href="./">Node-2</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">pkg_ros-iot-bridge <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../rib/">Action-Server</a>
</li>
                                    
<li >
    <a href="../iot/">IoT</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">message and config <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../msg/">the .msg files</a>
</li>
                                    
<li >
    <a href="../cnfg/">the config folder</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../node_t5_u1/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../rib/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#this-documentation-covers-the-code-related-to-shipping-the-package">This Documentation covers the Code related to Shipping the package</a></li>
            <li><a href="#class-iotactionclient">Class IotActionClient</a></li>
            <li><a href="#class-cartesianpath">Class CartesianPath</a></li>
            <li><a href="#callback-function-to-get-colours-of-respective-packages">Callback function to get colours of respective Packages</a></li>
            <li><a href="#main-function">Main Function</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="this-documentation-covers-the-code-related-to-shipping-the-package">This Documentation covers the Code related to Shipping the package</h1>
<h2 id="class-iotactionclient">Class IotActionClient</h2>
<p>This Class is to use methods related to
Action client for an action server.</p>
<pre><code>1.  __init__(self):

    creates a class for the action client, to
    send goals to the action server. This time
    to publish/append Data from the UR5_2 arm side
    to the google spreadsheet


2.  on_transition(self, goal_handle):

    function generated during transition of goal

    Parameters
    ------------------
    :type goal_handle: list
    :            Contains the goal to be sent in a python list format
    ------------------

    Is called when the send goal method is called


3.  send_goal(self, arg_topic, arg_string):

    function to send goal to action server
    Python list and string methods are called
    and a goal is sent to the action server

    Parameters
    ------------------
    :type arg_topic: string
    :           the name of the method that selects which spreadsheet to update
    :type arg_sring: string
    :           the message that has to be appended in the google sheet
</code></pre>
<h2 id="class-cartesianpath">Class CartesianPath</h2>
<p>This class is used for methods related to
the moveit UR5 arm</p>
<pre><code>1   __init__(self, arg_robot_name):

    This constructs an object for UR5 moveit class
    which finds the package on the conveyor belt
    and drops it into the respective bin

    Parameters:
        type arg_robot_name: string
                             it is the UR5 arm which we are trying to use



2   go_to_pose(self, arg_pose):

    This function makes the UR5 arm to go to a
    particular pose for which Inverse Kinematics is valid

    Parameters:
         type arg_pose: geometry_msgs msg
                        Set of valid coordinates



3   set_joint_angles(self, arg_list_joint_angles):

    This function sets the different joints
    of UR5 arm to the given value

    Parameters:
            type arg_list_joint_angles: List of angles in Radians
                                        Different Angles ranging from -180 to +180
                                        for each joint angle



4   hard_set_joint_angles(self, arg_list_joint_angles, arg_max_attempts):

    This function sets the different joints
    of UR5 arm to the given value.
    It loops through a range until the result is achieved

    Parameters:
            type arg_list_joint_angles: List of angles in Radians
                                        Different Angles ranging from -180 to +180
                                        for each joint angle
            type arg_max_attempts: Int value for range
                                   The number of attempts to set the joint angles



5   go_home(self):
    function used to set joint angles to reach the conveyor belt
    Uses the hard set joint angle method


6   check_count(self, stri):

    This function checks the name of the package 
    and find its color using the color list that 2d camera
    sent to this node
    Parameters:
            type stri: string
                   contains the package name for which the bin is checked
    Result :
            i : integer value which indexes to the color of the required package


7   go_to_bin(self, col):

    This functions goes to the respective colored bin for each package
    and after detaching it calls the conveyor belt to full power
    After we drop the package, the conveyor belt
    is started again and the ur5 goes to the home position.
    Meanwhile the Shipped Orders sheet is appended with the data

    Parameters:
            type col:  string
                   It is a string value which tells us about the colour
                   of the package to drop it into the same colored bin



8   func_cb3(self, data):

    This functions is the callback function for
    the '/get_order' rostopic which contains the
    order details of the package recieved

    Parameters :
            type data:  string
                    The message received from the rostopic


9   func_cb2(self, data):

    callback function for logical camera 2
    when the package is just under the ee link of ur5_2, it is stopped
    then conveyorbelt is stopped and package is attached

    Parameters :
            type data: Logical Camera Message
                   The set of information that is provided by the logical Camera 2
</code></pre>
<h2 id="callback-function-to-get-colours-of-respective-packages">Callback function to get colours of respective Packages</h2>
<pre><code>callback function for subscribing to the rostopic to get the sorted colors list
Parameters
------------------
:type data:  string
:       The message received from the rostopic
</code></pre>
<h2 id="main-function">Main Function</h2>
<blockquote>
<p>The main function subscribes and collect the
lists of colors of package from node 1.
Then is constantly subscribed to the logical camera 2
to get the pakcage and drop it for shipping the package</p>
</blockquote></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
